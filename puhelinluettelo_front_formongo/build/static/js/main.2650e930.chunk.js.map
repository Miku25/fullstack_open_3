{"version":3,"sources":["components/NewInput.js","services/personService.js","components/Person.js","App.js","index.js"],"names":["NewInput","text","value","onChange","baseUrl","axios","get","then","response","data","newObject","post","id","delete","Person","person","removePerson","name","number","onClick","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","personFilter","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","alertSuccess","setTimeout","alertError","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","event","console","log","target","onSubmit","preventDefault","personObject","map","indexOf","alert","returnedPerson","concat","catch","error","type","toLowerCase","includes","key","window","confirm","filter","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2650e930.chunk.js","sourcesContent":["import React from 'react'\n\nconst NewInput = ( {text, value, onChange} ) =>\n  <div>\n    {text}: <input \n      value={value}\n      onChange={onChange}\n    />\n  </div>\n  \nexport default NewInput","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n  \n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <li>\n      {person.name} {person.number}\n      <button onClick={removePerson}>remove</button>\n    </li>\n  )\n}\n\nexport default Person","import React, { useState, useEffect } from 'react'\nimport NewInput from './components/NewInput'\nimport personService from './services/personService'\nimport Person from './components/Person'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('New Person')\n  const [ newNumber, setNewNumber ] = useState('050-1234567')\n  const [ personFilter, setFilter ] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const SuccessMessage = () => {\n    const successMessageStyle = {\n      color: 'green',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n    }\n\n    if (successMessage === null) {\n      return null\n    }\n\n    return (\n      <div style={successMessageStyle}>\n        {successMessage}\n      </div>\n    )\n  }\n\n  const ErrorMessage = () => {\n    const errorMessageStyle = {\n      color: 'red',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n    }\n\n    if (errorMessage === null) {\n      return null\n    }\n\n    return (\n      <div style={errorMessageStyle}>\n        {errorMessage}\n      </div>\n    )\n  }\n\n  const NumberList = ( {persons, personFilter} ) => {\n\n    const removePerson = (id, name) => {\n      console.log(`Deleting person with id ${id}`)\n      if(window.confirm(`Delete ${name}?`)) {\n        personService.remove(id)\n        alertSuccess(`${name} was removed`)\n        setPersons(persons.filter(p => p.id !== id))\n      }\n    }\n\n    return (\n      persons.map(person => {\n        if (personFilter ==='' || person.name.toLowerCase().includes(personFilter.toLowerCase())) {\n          return (\n            <Person\n              key={person.id}\n              person={person}\n              removePerson={() => removePerson(person.id, person.name)}\n            />\n          )\n        } else {\n          return ('')\n        }\n      })\n    )\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const addDetails = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name : newName,\n      number : newNumber,\n    }\n    if ( !(persons.map(person => person.name).indexOf(newName) > -1 )) {\n      personService.create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          alertSuccess(`Added ${returnedPerson.name}`)\n        })\n        .catch(error => {\n          alertError(`${error.response.data.error}`)\n        })\n    } else {\n      alert(`${newName} is already added to phonebook`)\n    }\n    setNewName('')\n  }\n\n  const alertSuccess = (text) => {\n    setSuccessMessage(text)\n    setTimeout(() => {\n      setSuccessMessage(null)\n    }, 5000)\n  }\n\n  const alertError = (text) => {\n    setErrorMessage(text)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessMessage />\n      <ErrorMessage />\n      <NewInput text={'filter shown with'} value={personFilter} onChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <form onSubmit={addDetails}>\n        <NewInput text={'name'} value={newName} onChange={handleNameChange} />\n        <NewInput text={'number'} value={newNumber} onChange={handleNumberChange} />\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <ul>\n        <NumberList persons={persons} personFilter={personFilter} />\n      </ul>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}